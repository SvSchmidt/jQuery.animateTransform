/******************************************
 * @PluginName      animateTransform
 *
 *
 * @author          Sven Schmidt
 * @Date            2014/04/21
 * @copyright       Copyright (c) 2014 Sven Schmidt
 * @license         Feel free to use!
 * @link            http://projekte.lifesetter.de/jquery.animateTransform/
 * @version         1.0
 * @description     Use this plugin to animate objTransform3 transform-values (translate, translate3d, rotate, skew, scale)
 * @Usage           $(elem).animateTransform({x:...,y:...,z:...,skewX:...,skewY:...,rotate:...,scale:...duration:...,callback:function() {}});
 ******************************************/
 (function(e){e.fn.animateTransform=function(t){var n=e(this),r=e.extend({},e.fn.animateTransform.defaultSettings,t||{}),i=0,s=0,o=0,u=0,a=0,f=0,l=0,c,h,p,d,m=0,g=e.extend({},("    "+(n[0].style.WebkitTransform||n[0].style.MozTransform||n[0].style.OTransform||n[0].style.MSTransform||n[0].style.Transform||" ").replace(new RegExp("\\, ","g"),",")).split(" "),"rotate(0deg) scale(1) translate(0px,0px) skew(0deg,0deg)".replace(new RegExp("\\, ","g"),",").split(" ")),y=(Array.prototype.slice.call(window.getComputedStyle(document.documentElement,"")).join("").match(/-(moz|webkit|ms)-/)||styles.OLink===""&&["","o"])[0];for(v in g)if(g[v])g[g[v].match(/([a-zA-Z]{0,10})/)[0].replace("3d","")]=g[v].match(/[^()\s]+(?=,|\))/g)[0].replace(new RegExp("deg","g"),"").replace(new RegExp("px","g"),"").split(",")||[0,0,0];e(n).animate({fake4:g.rotate[0],fake7:g.scale[0]},0);e(n).animate({fake1:r.x,fake2:r.y,fake3:r.z,fake4:r.rotate,fake5:r.skewX,fake6:r.skewY,fake7:r.scale},{step:function(e,t){m=t.prop.replace("fake","");m==1&&(i=t.now)||m==2&&(s=t.now)||m==3&&(o=t.now);m<4&&(c="translate"+(r.z>0?"3d":"")+"("+i+"px,"+s+"px"+(r.z>0?","+o+"px)":")"));m==4&&(u=t.now)&&(g.rotate[0]<=r.rotate&&u>g.rotate[0]||g.rotate[0]>r.rotate&&u<=g.rotate[0])&&(h="rotate("+u+"deg)");m==5&&(a=t.now)||m==6&&(f=t.now);m==(5||6)&&(p="skew("+a+"deg,"+f+"deg)");m==7&&(l=t.now)&&(g.scale[0]<=r.scale&&l>g.scale[0]||g.scale[0]>r.scale&&l<=g.scale[0])&&(d="scale("+l+")");n.css(y+"transform",(c||"")+(h||"rotate("+g.rotate[0]+"deg)")+(p||"")+(d||"scale("+g.scale[0]+")"))},duration:parseInt(r.duration),complete:function(){r.callback.call(this)}});return n};e.fn.animateTransform.defaultSettings={x:0,y:0,z:0,skewX:0,skewY:0,scale:1,rotate:0,duration:1e4,callback:function(){}}})(jQuery)